{
  "info": {
    "_postman_id": "b47c3e8a-8d2f-4c9d-9e1f-3a4b5c6d7e8f",
    "name": "Pavillon Les Lys API",
    "description": "Collection complète pour l'API Pavillon Les Lys - Gestion des réservations, paiements, utilisateurs et devis",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "12345678"
  },
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"client@example.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+33123456789\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register",
              "host": ["{{base_url}}"],
              "path": ["auth", "register"]
            },
            "description": "Inscription d'un nouvel utilisateur"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"client@example.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+33123456789\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/auth/register",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "register"]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"id\": \"uuid-1234-5678\",\n  \"email\": \"client@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+33123456789\",\n  \"role\": \"CLIENT\",\n  \"createdAt\": \"2024-01-15T10:30:00.000Z\",\n  \"updatedAt\": \"2024-01-15T10:30:00.000Z\"\n}"
            }
          ]
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.environment.set('access_token', response.access_token);",
                  "    pm.environment.set('user_id', response.user.id);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"client@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            },
            "description": "Connexion utilisateur - sauvegarde automatiquement le token"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"email\": \"client@example.com\",\n  \"password\": \"password123\"\n}"
                },
                "url": {
                  "raw": "{{base_url}}/auth/login",
                  "host": ["{{base_url}}"],
                  "path": ["auth", "login"]
                }
              },
              "status": "OK",
              "code": 200,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\",\n  \"user\": {\n    \"id\": \"uuid-1234-5678\",\n    \"email\": \"client@example.com\",\n    \"firstName\": \"John\",\n    \"lastName\": \"Doe\",\n    \"role\": \"CLIENT\"\n  }\n}"
            }
          ]
        },
        {
          "name": "Get Profile",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/profile",
              "host": ["{{base_url}}"],
              "path": ["auth", "profile"]
            },
            "description": "Récupérer le profil de l'utilisateur connecté"
          }
        },
        {
          "name": "Validate Token",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/validate",
              "host": ["{{base_url}}"],
              "path": ["auth", "validate"]
            },
            "description": "Valider si le token est encore valide"
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/refresh",
              "host": ["{{base_url}}"],
              "path": ["auth", "refresh"]
            },
            "description": "Rafraîchir le token d'accès"
          }
        },
        {
          "name": "Forgot Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"client@example.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/forgot-password",
              "host": ["{{base_url}}"],
              "path": ["auth", "forgot-password"]
            },
            "description": "Demande de réinitialisation de mot de passe"
          }
        },
        {
          "name": "Reset Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"token\": \"reset-token-here\",\n  \"newPassword\": \"newpassword123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/reset-password",
              "host": ["{{base_url}}"],
              "path": ["auth", "reset-password"]
            },
            "description": "Réinitialisation du mot de passe avec token"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/auth/logout",
              "host": ["{{base_url}}"],
              "path": ["auth", "logout"]
            },
            "description": "Déconnexion de l'utilisateur"
          }
        }
      ],
      "description": "Endpoints d'authentification et gestion de session"
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Create Client",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"newclient@example.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"Jane\",\n  \"lastName\": \"Smith\",\n  \"phone\": \"+33987654321\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/users/client",
              "host": ["{{base_url}}"],
              "path": ["users", "client"]
            },
            "description": "Créer un nouveau client (route publique)"
          }
        },
        {
          "name": "Create Staff (Admin only)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"manager@pavilion.com\",\n  \"password\": \"password123\",\n  \"firstName\": \"Alice\",\n  \"lastName\": \"Manager\",\n  \"phone\": \"+33111222333\",\n  \"role\": \"EVENT_MANAGER\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/users/staff",
              "host": ["{{base_url}}"],
              "path": ["users", "staff"]
            },
            "description": "Créer un membre du staff (admin seulement)"
          }
        },
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users?role=CLIENT&skip=0&take=10",
              "host": ["{{base_url}}"],
              "path": ["users"],
              "query": [
                {
                  "key": "role",
                  "value": "CLIENT",
                  "description": "Filtrer par rôle"
                },
                {
                  "key": "skip",
                  "value": "0",
                  "description": "Nombre d'éléments à ignorer"
                },
                {
                  "key": "take",
                  "value": "10",
                  "description": "Nombre d'éléments à récupérer"
                }
              ]
            },
            "description": "Récupérer tous les utilisateurs (admin/staff seulement)"
          }
        },
        {
          "name": "Search Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/users/search?q=john",
              "host": ["{{base_url}}"],
              "path": ["users", "search"],
              "query": [
                {
                  "key": "q",
                  "value": "john",
                  "description": "Terme de recherche"
                }
              ]
            },
            "description": "Rechercher des utilisateurs (route publique)"
          }
        },
        {
          "name": "Get Users Count",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/count",
              "host": ["{{base_url}}"],
              "path": ["users", "count"]
            },
            "description": "Obtenir le nombre total d'utilisateurs (admin seulement)"
          }
        },
        {
          "name": "Get Users by Role",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/by-role/CLIENT",
              "host": ["{{base_url}}"],
              "path": ["users", "by-role", "CLIENT"]
            },
            "description": "Obtenir les utilisateurs par rôle (admin/staff seulement)"
          }
        },
        {
          "name": "Get User by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["users", "{{user_id}}"]
            },
            "description": "Récupérer un utilisateur par son ID"
          }
        },
        {
          "name": "Get User Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/{{user_id}}/stats",
              "host": ["{{base_url}}"],
              "path": ["users", "{{user_id}}", "stats"]
            },
            "description": "Obtenir les statistiques d'un utilisateur (admin seulement)"
          }
        },
        {
          "name": "Update User",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John Updated\",\n  \"lastName\": \"Doe Updated\",\n  \"phone\": \"+33999888777\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["users", "{{user_id}}"]
            },
            "description": "Mettre à jour un utilisateur"
          }
        },
        {
          "name": "Update Password",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"currentPassword\": \"password123\",\n  \"newPassword\": \"newpassword456\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/users/{{user_id}}/password",
              "host": ["{{base_url}}"],
              "path": ["users", "{{user_id}}", "password"]
            },
            "description": "Changer le mot de passe de l'utilisateur"
          }
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/users/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["users", "{{user_id}}"]
            },
            "description": "Supprimer un utilisateur (admin seulement)"
          }
        }
      ],
      "description": "Gestion des utilisateurs, clients et staff"
    },
    {
      "name": "Reservations",
      "item": [
        {
          "name": "Create Reservation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"eventType\": \"WEDDING\",\n  \"start\": \"2024-06-15T14:00:00.000Z\",\n  \"end\": \"2024-06-15T23:00:00.000Z\",\n  \"attendees\": 120\n}"
            },
            "url": {
              "raw": "{{base_url}}/reservations",
              "host": ["{{base_url}}"],
              "path": ["reservations"]
            },
            "description": "Créer une nouvelle réservation"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "POST",
                "header": [
                  {
                    "key": "Content-Type",
                    "value": "application/json"
                  },
                  {
                    "key": "Authorization",
                    "value": "Bearer {{access_token}}"
                  }
                ],
                "body": {
                  "mode": "raw",
                  "raw": "{\n  \"eventType\": \"WEDDING\",\n  \"start\": \"2024-06-15T14:00:00.000Z\",\n  \"end\": \"2024-06-15T23:00:00.000Z\",\n  \"attendees\": 120\n}"
                },
                "url": {
                  "raw": "{{base_url}}/reservations",
                  "host": ["{{base_url}}"],
                  "path": ["reservations"]
                }
              },
              "status": "Created",
              "code": 201,
              "_postman_previewlanguage": "json",
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "cookie": [],
              "body": "{\n  \"id\": \"reservation-uuid-1234\",\n  \"eventType\": \"WEDDING\",\n  \"start\": \"2024-06-15T14:00:00.000Z\",\n  \"end\": \"2024-06-15T23:00:00.000Z\",\n  \"attendees\": 120,\n  \"status\": \"PENDING\",\n  \"userId\": \"uuid-1234-5678\",\n  \"createdAt\": \"2024-01-15T10:30:00.000Z\",\n  \"updatedAt\": \"2024-01-15T10:30:00.000Z\"\n}"
            }
          ]
        },
        {
          "name": "Get All Reservations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations?status=PENDING&eventType=WEDDING&skip=0&take=10",
              "host": ["{{base_url}}"],
              "path": ["reservations"],
              "query": [
                {
                  "key": "status",
                  "value": "PENDING",
                  "description": "Filtrer par statut"
                },
                {
                  "key": "eventType",
                  "value": "WEDDING",
                  "description": "Filtrer par type d'événement"
                },
                {
                  "key": "userId",
                  "value": "user-uuid",
                  "description": "Filtrer par utilisateur",
                  "disabled": true
                },
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "take",
                  "value": "10"
                },
                {
                  "key": "startDate",
                  "value": "2024-01-01",
                  "description": "Date de début pour le filtre",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31",
                  "description": "Date de fin pour le filtre",
                  "disabled": true
                }
              ]
            },
            "description": "Récupérer toutes les réservations avec filtres"
          }
        },
        {
          "name": "Check Availability",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/reservations/availability?start=2024-06-15T14:00:00.000Z&end=2024-06-15T23:00:00.000Z",
              "host": ["{{base_url}}"],
              "path": ["reservations", "availability"],
              "query": [
                {
                  "key": "start",
                  "value": "2024-06-15T14:00:00.000Z",
                  "description": "Date/heure de début"
                },
                {
                  "key": "end",
                  "value": "2024-06-15T23:00:00.000Z",
                  "description": "Date/heure de fin"
                },
                {
                  "key": "excludeId",
                  "value": "reservation-id-to-exclude",
                  "description": "ID de réservation à exclure",
                  "disabled": true
                }
              ]
            },
            "description": "Vérifier la disponibilité pour une période (route publique)"
          }
        },
        {
          "name": "Get Available Slots",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/reservations/available-slots?date=2024-06-15",
              "host": ["{{base_url}}"],
              "path": ["reservations", "available-slots"],
              "query": [
                {
                  "key": "date",
                  "value": "2024-06-15",
                  "description": "Date pour laquelle chercher les créneaux"
                }
              ]
            },
            "description": "Obtenir les créneaux disponibles pour une date (route publique)"
          }
        },
        {
          "name": "Get Reservation Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations/stats",
              "host": ["{{base_url}}"],
              "path": ["reservations", "stats"]
            },
            "description": "Obtenir les statistiques des réservations (admin/staff seulement)"
          }
        },
        {
          "name": "Get Upcoming Reservations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations/upcoming?days=7",
              "host": ["{{base_url}}"],
              "path": ["reservations", "upcoming"],
              "query": [
                {
                  "key": "days",
                  "value": "7",
                  "description": "Nombre de jours à l'avance"
                }
              ]
            },
            "description": "Obtenir les réservations à venir (admin/staff seulement)"
          }
        },
        {
          "name": "Get My Reservations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations/my-reservations",
              "host": ["{{base_url}}"],
              "path": ["reservations", "my-reservations"]
            },
            "description": "Obtenir les réservations de l'utilisateur connecté"
          }
        },
        {
          "name": "Get User Reservations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations/user/{{user_id}}",
              "host": ["{{base_url}}"],
              "path": ["reservations", "user", "{{user_id}}"]
            },
            "description": "Obtenir les réservations d'un utilisateur spécifique (admin/staff seulement)"
          }
        },
        {
          "name": "Get Reservation by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations/{{reservation_id}}",
              "host": ["{{base_url}}"],
              "path": ["reservations", "{{reservation_id}}"]
            },
            "description": "Obtenir une réservation par son ID"
          }
        },
        {
          "name": "Update Reservation",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"attendees\": 150,\n  \"eventType\": \"CORPORATE\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/reservations/{{reservation_id}}",
              "host": ["{{base_url}}"],
              "path": ["reservations", "{{reservation_id}}"]
            },
            "description": "Mettre à jour une réservation"
          }
        },
        {
          "name": "Confirm Reservation",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations/{{reservation_id}}/confirm",
              "host": ["{{base_url}}"],
              "path": ["reservations", "{{reservation_id}}", "confirm"]
            },
            "description": "Confirmer une réservation (admin/staff seulement)"
          }
        },
        {
          "name": "Cancel Reservation",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations/{{reservation_id}}/cancel",
              "host": ["{{base_url}}"],
              "path": ["reservations", "{{reservation_id}}", "cancel"]
            },
            "description": "Annuler une réservation"
          }
        },
        {
          "name": "Complete Reservation",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations/{{reservation_id}}/complete",
              "host": ["{{base_url}}"],
              "path": ["reservations", "{{reservation_id}}", "complete"]
            },
            "description": "Marquer une réservation comme terminée (admin/staff seulement)"
          }
        },
        {
          "name": "Update Reservation Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"CONFIRMED\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/reservations/{{reservation_id}}/status",
              "host": ["{{base_url}}"],
              "path": ["reservations", "{{reservation_id}}", "status"]
            },
            "description": "Changer le statut d'une réservation (admin/staff seulement)"
          }
        },
        {
          "name": "Delete Reservation",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/reservations/{{reservation_id}}",
              "host": ["{{base_url}}"],
              "path": ["reservations", "{{reservation_id}}"]
            },
            "description": "Supprimer une réservation (admin seulement)"
          }
        }
      ],
      "description": "Gestion des réservations d'événements"
    },
    {
      "name": "Payments",
      "item": [
        {
          "name": "Create Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reservationId\": \"{{reservation_id}}\",\n  \"amount\": 2500.00,\n  \"type\": \"DEPOSIT\",\n  \"method\": \"CREDIT_CARD\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments",
              "host": ["{{base_url}}"],
              "path": ["payments"]
            },
            "description": "Créer un nouveau paiement"
          }
        },
        {
          "name": "Get All Payments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments?status=COMPLETED&type=DEPOSIT&skip=0&take=10",
              "host": ["{{base_url}}"],
              "path": ["payments"],
              "query": [
                {
                  "key": "status",
                  "value": "COMPLETED",
                  "description": "Filtrer par statut"
                },
                {
                  "key": "type",
                  "value": "DEPOSIT",
                  "description": "Filtrer par type"
                },
                {
                  "key": "userId",
                  "value": "user-uuid",
                  "description": "Filtrer par utilisateur",
                  "disabled": true
                },
                {
                  "key": "reservationId",
                  "value": "reservation-uuid",
                  "description": "Filtrer par réservation",
                  "disabled": true
                },
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "take",
                  "value": "10"
                },
                {
                  "key": "startDate",
                  "value": "2024-01-01",
                  "description": "Date de début",
                  "disabled": true
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31",
                  "description": "Date de fin",
                  "disabled": true
                }
              ]
            },
            "description": "Récupérer tous les paiements avec filtres"
          }
        },
        {
          "name": "Get Payment Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments/stats",
              "host": ["{{base_url}}"],
              "path": ["payments", "stats"]
            },
            "description": "Obtenir les statistiques des paiements (admin/staff seulement)"
          }
        },
        {
          "name": "Get Monthly Revenue",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments/revenue/2024/06",
              "host": ["{{base_url}}"],
              "path": ["payments", "revenue", "2024", "06"]
            },
            "description": "Obtenir les revenus mensuels (admin/staff seulement)"
          }
        },
        {
          "name": "Get Payment by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments/{{payment_id}}",
              "host": ["{{base_url}}"],
              "path": ["payments", "{{payment_id}}"]
            },
            "description": "Obtenir un paiement par son ID"
          }
        },
        {
          "name": "Update Payment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"COMPLETED\",\n  \"transactionId\": \"TXN-123456789\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments/{{payment_id}}",
              "host": ["{{base_url}}"],
              "path": ["payments", "{{payment_id}}"]
            },
            "description": "Mettre à jour un paiement"
          }
        },
        {
          "name": "Process Payment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"transactionId\": \"TXN-123456789\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments/{{payment_id}}/process",
              "host": ["{{base_url}}"],
              "path": ["payments", "{{payment_id}}", "process"]
            },
            "description": "Traiter un paiement (admin/staff seulement)"
          }
        },
        {
          "name": "Refund Payment",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"amount\": 1000.00,\n  \"reason\": \"Annulation client\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/payments/{{payment_id}}/refund",
              "host": ["{{base_url}}"],
              "path": ["payments", "{{payment_id}}", "refund"]
            },
            "description": "Rembourser un paiement (admin/staff seulement)"
          }
        },
        {
          "name": "Delete Payment",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/payments/{{payment_id}}",
              "host": ["{{base_url}}"],
              "path": ["payments", "{{payment_id}}"]
            },
            "description": "Supprimer un paiement (admin seulement)"
          }
        }
      ],
      "description": "Gestion des paiements et transactions"
    },
    {
      "name": "Quotes",
      "item": [
        {
          "name": "Create Quote",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reservationId\": \"{{reservation_id}}\",\n  \"basePrice\": 5000.00,\n  \"taxes\": 1000.00,\n  \"totalPrice\": 6000.00,\n  \"description\": \"Devis pour mariage - 120 personnes\",\n  \"validUntil\": \"2024-07-15T23:59:59.000Z\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/quotes",
              "host": ["{{base_url}}"],
              "path": ["quotes"]
            },
            "description": "Créer un nouveau devis (admin/staff seulement)"
          }
        },
        {
          "name": "Get All Quotes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/quotes?skip=0&take=10&hasReservation=true",
              "host": ["{{base_url}}"],
              "path": ["quotes"],
              "query": [
                {
                  "key": "skip",
                  "value": "0"
                },
                {
                  "key": "take",
                  "value": "10"
                },
                {
                  "key": "hasReservation",
                  "value": "true",
                  "description": "Filtrer par présence de réservation"
                }
              ]
            },
            "description": "Récupérer tous les devis (admin/staff seulement)"
          }
        },
        {
          "name": "Get Quote Stats",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/quotes/stats",
              "host": ["{{base_url}}"],
              "path": ["quotes", "stats"]
            },
            "description": "Obtenir les statistiques des devis (admin/staff seulement)"
          }
        },
        {
          "name": "Get Quote by Reservation",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/quotes/reservation/{{reservation_id}}",
              "host": ["{{base_url}}"],
              "path": ["quotes", "reservation", "{{reservation_id}}"]
            },
            "description": "Obtenir le devis d'une réservation (admin/staff seulement)"
          }
        },
        {
          "name": "Get Quote by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/quotes/{{quote_id}}",
              "host": ["{{base_url}}"],
              "path": ["quotes", "{{quote_id}}"]
            },
            "description": "Obtenir un devis par son ID"
          }
        },
        {
          "name": "Export Quote",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/quotes/{{quote_id}}/export",
              "host": ["{{base_url}}"],
              "path": ["quotes", "{{quote_id}}", "export"]
            },
            "description": "Exporter un devis en PDF"
          }
        },
        {
          "name": "Update Quote",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"basePrice\": 5500.00,\n  \"taxes\": 1100.00,\n  \"totalPrice\": 6600.00,\n  \"description\": \"Devis mis à jour pour mariage - 120 personnes avec options supplémentaires\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/quotes/{{quote_id}}",
              "host": ["{{base_url}}"],
              "path": ["quotes", "{{quote_id}}"]
            },
            "description": "Mettre à jour un devis (admin/staff seulement)"
          }
        },
        {
          "name": "Accept Quote",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/quotes/{{quote_id}}/accept",
              "host": ["{{base_url}}"],
              "path": ["quotes", "{{quote_id}}", "accept"]
            },
            "description": "Accepter un devis"
          }
        },
        {
          "name": "Reject Quote",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/quotes/{{quote_id}}/reject",
              "host": ["{{base_url}}"],
              "path": ["quotes", "{{quote_id}}", "reject"]
            },
            "description": "Rejeter un devis"
          }
        },
        {
          "name": "Delete Quote",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/quotes/{{quote_id}}",
              "host": ["{{base_url}}"],
              "path": ["quotes", "{{quote_id}}"]
            },
            "description": "Supprimer un devis (admin seulement)"
          }
        }
      ],
      "description": "Gestion des devis et tarifications"
    },
    {
      "name": "Feedback",
      "item": [
        {
          "name": "Create Feedback",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rating\": 5,\n  \"comment\": \"Excellent service, très satisfait de l'événement!\",\n  \"reservationId\": \"{{reservation_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/feedback",
              "host": ["{{base_url}}"],
              "path": ["feedback"]
            },
            "description": "Créer un nouveau feedback"
          }
        },
        {
          "name": "Get All Feedback",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/feedback",
              "host": ["{{base_url}}"],
              "path": ["feedback"]
            },
            "description": "Récupérer tous les feedbacks"
          }
        },
        {
          "name": "Get Feedback by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/feedback/{{feedback_id}}",
              "host": ["{{base_url}}"],
              "path": ["feedback", "{{feedback_id}}"]
            },
            "description": "Obtenir un feedback par son ID"
          }
        },
        {
          "name": "Update Feedback",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"rating\": 4,\n  \"comment\": \"Très bon service, quelques améliorations possibles\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/feedback/{{feedback_id}}",
              "host": ["{{base_url}}"],
              "path": ["feedback", "{{feedback_id}}"]
            },
            "description": "Mettre à jour un feedback"
          }
        },
        {
          "name": "Delete Feedback",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/feedback/{{feedback_id}}",
              "host": ["{{base_url}}"],
              "path": ["feedback", "{{feedback_id}}"]
            },
            "description": "Supprimer un feedback"
          }
        }
      ],
      "description": "Gestion des commentaires et évaluations"
    },
    {
      "name": "Checklist Items",
      "item": [
        {
          "name": "Create Checklist Item",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Vérifier l'éclairage\",\n  \"description\": \"S'assurer que tous les éclairages fonctionnent correctement\",\n  \"completed\": false,\n  \"reservationId\": \"{{reservation_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/chekclist-item",
              "host": ["{{base_url}}"],
              "path": ["chekclist-item"]
            },
            "description": "Créer un nouvel élément de checklist"
          }
        },
        {
          "name": "Get All Checklist Items",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/chekclist-item",
              "host": ["{{base_url}}"],
              "path": ["chekclist-item"]
            },
            "description": "Récupérer tous les éléments de checklist"
          }
        },
        {
          "name": "Get Checklist Item by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/chekclist-item/{{item_id}}",
              "host": ["{{base_url}}"],
              "path": ["chekclist-item", "{{item_id}}"]
            },
            "description": "Obtenir un élément de checklist par son ID"
          }
        },
        {
          "name": "Update Checklist Item",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"completed\": true,\n  \"description\": \"Éclairage vérifié et fonctionnel\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/chekclist-item/{{item_id}}",
              "host": ["{{base_url}}"],
              "path": ["chekclist-item", "{{item_id}}"]
            },
            "description": "Mettre à jour un élément de checklist"
          }
        },
        {
          "name": "Delete Checklist Item",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/chekclist-item/{{item_id}}",
              "host": ["{{base_url}}"],
              "path": ["chekclist-item", "{{item_id}}"]
            },
            "description": "Supprimer un élément de checklist"
          }
        }
      ],
      "description": "Gestion des listes de vérification pour les événements"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:3000",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "user_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "reservation_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "payment_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "quote_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "feedback_id",
      "value": "",
      "type": "string"
    },
    {
      "key": "item_id",
      "value": "",
      "type": "string"
    }
  ]
}
